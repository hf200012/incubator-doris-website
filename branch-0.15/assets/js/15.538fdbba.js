(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{406:function(e,l,t){"use strict";t.r(l);var a=t(43),s=Object(a.a)({},(function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"sql-block-rule"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-block-rule"}},[e._v("#")]),e._v(" SQL Block Rule")]),e._v(" "),t("p",[e._v("Support SQL block rule by user level, by regex way to deny specify SQL")]),e._v(" "),t("h2",{attrs:{id:"rule"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rule"}},[e._v("#")]),e._v(" Rule")]),e._v(" "),t("p",[e._v("SQL block rule CRUD")]),e._v(" "),t("ul",[t("li",[e._v("create SQL block rule\n"),t("ul",[t("li",[e._v("sql：Regex pattern，Special characters need to be translated")]),e._v(" "),t("li",[e._v("sqlHash: Sql hash value, Used to match exactly, We print it in fe.audit.log")]),e._v(" "),t("li",[e._v("global: Whether global(all users)is in effect, false by default")]),e._v(" "),t("li",[e._v("enable：Whether to enable block rule，true by default")])])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('CREATE SQL_BLOCK_RULE test_rule PROPERTIES("sql"="select \\\\* from test_table","sqlHash":null,"global"="false","enable"="true")\n')])])]),t("ul",[t("li",[e._v("show configured SQL block rules, or show all rules if you do not specify a rule name")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("SHOW SQL_BLOCK_RULE [FOR RULE_NAME]\n")])])]),t("ul",[t("li",[e._v("alter SQL block rule，Allows changes sql/global/enable anyone")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('ALTER SQL_BLOCK_RULE test_rule PROPERTIES("sql"="select \\\\* from test_table","enable"="true")\n')])])]),t("ul",[t("li",[e._v("drop SQL block rule，Support multiple rules, separated by "),t("code",[e._v(",")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("DROP SQL_BLOCK_RULE test_rule1,test_rule2\n")])])]),t("h2",{attrs:{id:"user-bind-rules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-bind-rules"}},[e._v("#")]),e._v(" User bind rules")]),e._v(" "),t("p",[e._v("If global=false is configured, the rules binding for the specified user needs to be configured, with multiple rules separated by ', '")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("SET PROPERTY [FOR 'jack'] 'sql_block_rules' = 'test_rule1,test_rule2'\n")])])])])}),[],!1,null,null,null);l.default=s.exports}}]);