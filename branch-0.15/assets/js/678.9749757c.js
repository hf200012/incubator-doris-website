(window.webpackJsonp=window.webpackJsonp||[]).push([[678],{1116:function(s,t,a){"use strict";a.r(t);var r=a(55),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("本文档详细介绍如何在 Ubuntu 环境下，使用 Doris 的 ODBC 外表功能连接 PostgreSQL 数据库。")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_1-软件环境"}},[s._v("1.软件环境")])]),a("li",[a("a",{attrs:{href:"#_2-安装odbc驱动"}},[s._v("2.安装ODBC驱动")])]),a("li",[a("a",{attrs:{href:"#_3-安装postgresql数据库"}},[s._v("3.安装Postgresql数据库")]),a("ul",[a("li",[a("a",{attrs:{href:"#_3-1-使用postgresql-roles和数据库"}},[s._v("3.1 使用PostgreSQL roles和数据库")])]),a("li",[a("a",{attrs:{href:"#_3-2-切换到postgres帐户"}},[s._v("3.2 切换到postgres帐户")])]),a("li",[a("a",{attrs:{href:"#_3-3-在不切换帐户的情况下访问postgres"}},[s._v("3.3 在不切换帐户的情况下访问Postgres")])]),a("li",[a("a",{attrs:{href:"#_3-4-创建用户-数据库及表"}},[s._v("3.4 创建用户，数据库及表")])])])]),a("li",[a("a",{attrs:{href:"#_4-安装postgresql-odbc驱动"}},[s._v("4.安装Postgresql ODBC驱动")])]),a("li",[a("a",{attrs:{href:"#_5-验证odbc驱动是否成功"}},[s._v("5.验证ODBC驱动是否成功")]),a("ul",[a("li",[a("a",{attrs:{href:"#_5-1-配置注册postgresql-odbc驱动"}},[s._v("5.1 配置注册Postgresql ODBC驱动")])]),a("li",[a("a",{attrs:{href:"#_5-2-配置pg-数据源"}},[s._v("5.2 配置PG 数据源")])]),a("li",[a("a",{attrs:{href:"#_5-3-验证是否成功"}},[s._v("5.3 验证是否成功")])])])]),a("li",[a("a",{attrs:{href:"#_6-apache-doris-pg外表验证"}},[s._v("6.Apache Doris PG外表验证")]),a("ul",[a("li",[a("a",{attrs:{href:"#_6-1-修改配置"}},[s._v("6.1 修改配置")])]),a("li",[a("a",{attrs:{href:"#_6-2-验证"}},[s._v("6.2 验证")])])])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"_1-软件环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-软件环境"}},[s._v("#")]),s._v(" 1.软件环境")]),s._v(" "),a("ol",[a("li",[s._v("操作系统：ubuntu 18.04")]),s._v(" "),a("li",[s._v("Apache Doris ：0.15")]),s._v(" "),a("li",[s._v("Postgresql数据库：PostgreSQL 12.9")]),s._v(" "),a("li",[s._v("UnixODBC：2.3.4")]),s._v(" "),a("li",[s._v("PostgreSQL ODBC ：psqlodbc-12.02.0000")])]),s._v(" "),a("h2",{attrs:{id:"_2-安装odbc驱动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装odbc驱动"}},[s._v("#")]),s._v(" 2.安装ODBC驱动")]),s._v(" "),a("p",[s._v("首先我们安装unixODBC驱动、这里直接给出驱动的下载地址及安装命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" ftp://ftp.unixodbc.org/pub/unixODBC/unixODBC-2.3.4.tar.gz \n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvzf unixODBC-2.3.4.tar.gz \n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" unixODBC-2.3.4/\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ./configure --prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/unixODBC-2.3.7 --includedir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/include --libdir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/lib -bindir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/bin --sysconfdir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("p",[s._v("安装成功后，unixODBC所需的头文件都被安装到了/usr/inlucde下，编译好的库文件安装到了/usr/lib下，与unixODBC相关的可执行文件安装到了/usr/bin下，配置文件放到了/etc下。")]),s._v(" "),a("p",[s._v("验证安装是否成功")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$> odbcinst -j\nunixODBC 2.3.4\nDRIVERS............: /etc/odbcinst.ini\nSYSTEM DATA SOURCES: /etc/odbc.ini\nFILE DATA SOURCES..: /etc/ODBCDataSources\nUSER DATA SOURCES..: /root/.odbc.ini\nSQLULEN Size.......: 8\nSQLLEN Size........: 8\nSQLSETPOSIROW Size.: 8\n")])])]),a("h2",{attrs:{id:"_3-安装postgresql数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装postgresql数据库"}},[s._v("#")]),s._v(" 3.安装Postgresql数据库")]),s._v(" "),a("p",[a("strong",[s._v("这一章节，仅记录笔者安装 Postgresql 的过程。如果你已经安装了 Postgresql，这可以直接跳到第4节继续阅读。")])]),s._v(" "),a("p",[s._v("Ubuntu的默认存储库包含Postgres软件包，因此您可以使用"),a("code",[s._v("apt")]),s._v("安装这些软件包。")]),s._v(" "),a("p",[s._v("安装之前先用"),a("code",[s._v("apt")]),s._v("更新一下本地软件包，然后，安装"),a("code",[s._v("Postgres")]),s._v("包和一个附加实用程序和功能的"),a("code",[s._v("- managed")]),s._v("包:")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" postgresql postgresql-contrib\n")])])]),a("p",[s._v("现在已经安装了该软件，我们可以了解它的工作原理以及它与您可能使用的类似数据库管理系统的不同之处。")]),s._v(" "),a("h3",{attrs:{id:"_3-1-使用postgresql-roles和数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-使用postgresql-roles和数据库"}},[s._v("#")]),s._v(" 3.1 使用PostgreSQL roles和数据库")]),s._v(" "),a("p",[s._v("默认情况下，Postgres使用称为“roles”的概念来处理身份验证和授权。在某些方面，这些类似于常规的Unix风格帐户，但Postgres不区分用户和组，而是更喜欢更灵活的术语“roles”。")]),s._v(" "),a("p",[s._v("安装后，Postgres设置为使用"),a("em",[s._v("ident身份")]),s._v("验证，这意味着它将Postgres roles与匹配的Unix / Linux系统帐户相关联。如果Postgres中存在roles，则具有相同名称的Unix / Linux用户名可以作为该roles登录。")]),s._v(" "),a("p",[s._v("安装过程创建了一个名为"),a("strong",[s._v("postgres")]),s._v("的用户帐户，该帐户与默认的Postgres roles相关联。要使用Postgres，您可以登录该帐户。")]),s._v(" "),a("p",[s._v("有几种方法可以使用此帐户访问Postgres。")]),s._v(" "),a("h3",{attrs:{id:"_3-2-切换到postgres帐户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-切换到postgres帐户"}},[s._v("#")]),s._v(" 3.2 切换到postgres帐户")]),s._v(" "),a("p",[s._v("输入以下内容切换到服务器上的"),a("strong",[s._v("postgres")]),s._v("帐户：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -i -u postgres\n")])])]),a("p",[s._v("您现在可以通过输入以下内容立即访问Postgres：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" psql\n")])])]),a("p",[s._v("这将使您进入PostgreSQL提示符，从此处您可以立即与数据库管理系统进行交互。")]),s._v(" "),a("p",[s._v("输入以下命令退出PostgreSQL提示符：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \\q")]),s._v("\n")])])]),a("h3",{attrs:{id:"_3-3-在不切换帐户的情况下访问postgres"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-在不切换帐户的情况下访问postgres"}},[s._v("#")]),s._v(" 3.3 在不切换帐户的情况下访问Postgres")]),s._v(" "),a("p",[s._v("您也可以让"),a("strong",[s._v("postgres")]),s._v("帐户用"),a("code",[s._v("sudo")]),s._v("运行您想要的命令。")]),s._v(" "),a("p",[s._v("例如，在最后一个示例中，您被指示通过首先切换到"),a("strong",[s._v("postgres")]),s._v("用户然后运行"),a("code",[s._v("psql")]),s._v("以打开Postgres提示来进入Postgres提示。您可以通过"),a("code",[s._v("psql")]),s._v("以"),a("strong",[s._v("postgres")]),s._v("用户身份运行单个命令来一步完成此操作"),a("code",[s._v("sudo")]),s._v("，如下所示：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u postgres psql\n")])])]),a("p",[s._v("这将直接登录到Postgres。")]),s._v(" "),a("p",[s._v("同样，您可以通过输入以下内容退出交互式Postgres会话：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \\q")]),s._v("\n")])])]),a("p",[s._v("许多用例需要多个Postgres roles。继续阅读以了解如何配置这些")]),s._v(" "),a("h3",{attrs:{id:"_3-4-创建用户-数据库及表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-创建用户-数据库及表"}},[s._v("#")]),s._v(" 3.4 创建用户，数据库及表")]),s._v(" "),a("p",[s._v("使用默认用户登录postgresql创建用户、创建数据库及完成授权")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u postgres psql\n")])])]),a("p",[s._v("创建数据库新用户，如 dbuser：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("postgres"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CREATE USER dbuser WITH PASSWORD 'zhangfeng';")]),s._v("\n")])])]),a("p",[s._v("注意：")]),s._v(" "),a("ul",[a("li",[s._v("语句要以分号结尾。")]),s._v(" "),a("li",[s._v("密码要用单引号括起来。")]),s._v(" "),a("li",[s._v("创建用户数据库，你也可以通过你创建的用户登录进去以后创建数据库，如demo：")])]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("postgres"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CREATE DATABASE demo OWNER dbuser;")]),s._v("\n")])])]),a("p",[s._v("将demo数据库的所有权限都赋予dbuser：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("postgres"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# GRANT ALL PRIVILEGES ON DATABASE demo TO dbuser;")]),s._v("\n")])])]),a("p",[s._v("使用命令 \\q 退出psql：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("postgres=# \\q\n")])])]),a("p",[s._v("创建Linux普通用户，与刚才新建的数据库用户同名，如 dbuser：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ sudo adduser dbuser\n$ sudo passwd dbuser\n")])])]),a("p",[s._v("以dbuser的身份连接数据库exampledb：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ su - dbuser\n\nPassword: \nLast login: Wed Mar 1 11:52:07 CST 2017 on pts/\n\n")])])]),a("p",[s._v("用我们创建的用户（dbuser）登录psql")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo -u dbuser psql -U dbuser -d demo")]),s._v("\ncould "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" change directory "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root"')]),s._v(": Permission denied\npsql "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.9")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("ubuntu0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.04")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\ndemo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \\d\n                    List "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" relations\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Schema")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           Name            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Type")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  Owner\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--------+---------------------------+----------+----------")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" playground                "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" postgres\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" playground_1              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" dbuser\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" playground_1_equip_id_seq "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sequence "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" dbuser\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" playground_equip_id_seq   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sequence "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" postgres\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rows")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("创建表及插入数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" playground_test_odbc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    equip_id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("serial")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    color "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    location "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    install_date "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("date")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("示例数据")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("INSERT INTO playground_test_odbc (type, color, location, install_date) VALUES ('slide', 'blue', 'south', '2017-04-28');\nINSERT INTO playground_test_odbc (type, color, location, install_date) VALUES ('swing', 'yellow', 'northwest', '2018-08-16');\n")])])]),a("p",[s._v("执行结果")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("demo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" playground_test_odbc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\ndemo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("     equip_id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("serial")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ndemo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ndemo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("     color "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ndemo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("     location "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ndemo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("     install_date "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("date")]),s._v("\ndemo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v("\ndemo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" playground_test_odbc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" install_date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'slide'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'south'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2017-04-28'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ndemo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" playground_test_odbc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" install_date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'swing'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'yellow'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'northwest'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2018-08-16'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),a("h2",{attrs:{id:"_4-安装postgresql-odbc驱动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装postgresql-odbc驱动"}},[s._v("#")]),s._v(" 4.安装Postgresql ODBC驱动")]),s._v(" "),a("p",[s._v("这里我们下载是和数据版本相对于的驱动程序")]),s._v(" "),a("p",[s._v("Postgresql ODBC驱动下载地址：https://www.postgresql.org/ftp/odbc/versions/src/")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://ftp.postgresql.org/pub/odbc/versions/src/psqlodbc-12.02.0000.tar.gz\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf psqlodbc-12.02.0000.tar.gz\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" psqlodbc-12.02.0000\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ./configure --without-libpq   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("注：由于本机未安装postgresql，故使用without-libpq选项"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ./configure\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("p",[s._v("如果在编译过程中出现下面的错误")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("configure: error: libpq library version >= 9.2 is required\n")])])]),a("p",[s._v("这是因为缺少libpq的包，需要进行安装，执行下面的命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libpq-dev\n")])])]),a("p",[s._v("安装成功，默认驱动放在/usr/local/lib/psqlodbcw.so下")]),s._v(" "),a("h2",{attrs:{id:"_5-验证odbc驱动是否成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-验证odbc驱动是否成功"}},[s._v("#")]),s._v(" 5.验证ODBC驱动是否成功")]),s._v(" "),a("h3",{attrs:{id:"_5-1-配置注册postgresql-odbc驱动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-配置注册postgresql-odbc驱动"}},[s._v("#")]),s._v(" 5.1 配置注册Postgresql ODBC驱动")]),s._v(" "),a("p",[s._v("编辑/etc/odbcinst.ini，加入下面的内容")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PostgreSQL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nDescription "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ODBC "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" PostgreSQL\nDriver "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/lib/psqlodbcw.so\nDriver64 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/lib/psqlodbcw.so\nSetup "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/lib/libodbc.so    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##注意这里是在第二节安装的unixODBC的so文件路径")]),s._v("\nSetup64 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/lib/libodbc.so\nFileUsage "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),a("h3",{attrs:{id:"_5-2-配置pg-数据源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-配置pg-数据源"}},[s._v("#")]),s._v(" 5.2 配置PG 数据源")]),s._v(" "),a("p",[s._v("编辑/etc/odbc.ini")]),s._v(" "),a("p",[s._v("加入下面内容")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PostgresDB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nDriver "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PostgreSQL    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###这里的名称和odbcinst.ini里配置的名称一致")]),s._v("\nDescription "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Postgres DSN\nServername "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" localhost\nDatabase "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" demo\nUsername "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" dbuser\nPassword "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" zhangfeng\nPort "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),s._v("\nReadOnly "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" No\n")])])]),a("p",[s._v("其他的是你的Postgresql地址及刚才创建的用户、密码、数据库、端口等")]),s._v(" "),a("h3",{attrs:{id:"_5-3-验证是否成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-验证是否成功"}},[s._v("#")]),s._v(" 5.3 验证是否成功")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("isql "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v PostgresDB dbuser zhangfeng\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("---------------------------------------+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Connected"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("statement                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" help "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("tablename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" quit                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("---------------------------------------+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("注意这里的PostgresDB是我们在odbc.ini里定义的名称，这里显示ODBC正常")]),s._v(" "),a("h2",{attrs:{id:"_6-apache-doris-pg外表验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-apache-doris-pg外表验证"}},[s._v("#")]),s._v(" 6.Apache Doris PG外表验证")]),s._v(" "),a("h3",{attrs:{id:"_6-1-修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-修改配置"}},[s._v("#")]),s._v(" 6.1 修改配置")]),s._v(" "),a("p",[s._v("修改BE节点conf/odbcinst.ini文件,加入刚才/etc/odbcinst.ini添加的一样内容，并删除原先的PostgreSQL配置")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[PostgreSQL]\nDescription = ODBC for PostgreSQL\nDriver = /usr/local/lib/psqlodbcw.so\nDriver64 = /usr/local/lib/psqlodbcw.so\nSetup = /usr/lib/libodbc.so\nSetup64 = /usr/lib/libodbc.so\nFileUsage = 1\n")])])]),a("h3",{attrs:{id:"_6-2-验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-验证"}},[s._v("#")]),s._v(" 6.2 验证")]),s._v(" "),a("p",[s._v("创建PG ODBC Resource")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" EXTERNAL RESOURCE "),a("span",{pre:!0,attrs:{class:"token identifier"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("pg_12"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n PROPERTIES "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"host"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"port"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dbuser"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"password"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zhangfeng"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"database"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"table"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"playground_test_odbc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"driver"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PostgreSQL"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  \n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"odbc_type"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postgresql"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"odbc_catalog"')]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("创建ODBC外表")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' CREATE EXTERNAL TABLE `playground_odbc_12` (\n    equip_id int NOT NULL,\n    type varchar (50) NOT NULL,\n    color varchar (25) NOT NULL,\n    location varchar(25) ,\n    install_date date\n) ENGINE=ODBC\nCOMMENT "ODBC"\nPROPERTIES (\n"odbc_catalog_resource" = "pg_12", \n"database" = "demo",\n"table" = "playground_test_odbc"\n);\n')])])]),a("p",[s._v("在Doris下执行查询：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("ysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tables")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--------------------+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Tables_in_demo     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--------------------+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" playground_odbc_12 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" test_odbc_5        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" test_odbc_8        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" test_odbc_8_0_26   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" test_odbc_mysql    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" test_odbc_mysql_8  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--------------------+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rows")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" playground_odbc_12"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("----------+-------+--------+-----------+--------------+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" equip_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" color  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" location  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" install_date "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("----------+-------+--------+-----------+--------------+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" slide "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" blue   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" south     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("04")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" swing "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" yellow "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" northwest "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("08")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("----------+-------+--------+-----------+--------------+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rows")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v(" sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("OK，一切正常，相对Mysql，PG的ODBC驱动更简单一些，只要你的PG版本和ODBC驱动版本对应上问题都不大。")])])}),[],!1,null,null,null);t.default=e.exports}}]);