(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{604:function(e,a,s){"use strict";s.r(a);var t=s(56),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"verify-apache-release"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verify-apache-release"}},[e._v("#")]),e._v(" Verify Apache Release")]),e._v(" "),s("p",[e._v("To verify the release, following checklist can used to reference:")]),e._v(" "),s("ol",[s("li",[e._v("[ ] Download links are valid.")]),e._v(" "),s("li",[e._v("[ ] Checksums and PGP signatures are valid.")]),e._v(" "),s("li",[e._v("[ ] DISCLAIMER or DISCLAIMER-WIP is included.")]),e._v(" "),s("li",[e._v("[ ] Source code artifacts have correct names matching the current release.")]),e._v(" "),s("li",[e._v("[ ] LICENSE and NOTICE files are correct for the repository.")]),e._v(" "),s("li",[e._v("[ ] All files have license headers if necessary.")]),e._v(" "),s("li",[e._v("[ ] No compiled archives bundled in source archive.")]),e._v(" "),s("li",[e._v("[ ] Building is OK.")])]),e._v(" "),s("h2",{attrs:{id:"_1-download-source-package-signature-file-hash-file-and-keys"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-download-source-package-signature-file-hash-file-and-keys"}},[e._v("#")]),e._v(" 1. Download source package, signature file, hash file and KEYS")]),e._v(" "),s("p",[e._v("Download all artifacts, take a.b.c-incubating as an example:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://www.apache.org/dyn/mirrors/mirrors.cgi?action"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("download"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("filename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/incubator/doris/a.b.c-incubating/apache-doris-a.b.c-incubating-src.tar.gz\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://www.apache.org/dist/incubator/doris/a.b.c-incubating/apache-doris-a.b.c-incubating-src.tar.gz.sha512\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://www.apache.org/dist/incubator/doris/a.b.c-incubating/apache-doris-a.b.c-incubating-src.tar.gz.asc\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://www.apache.org/dist/incubator/doris/KEYS\n")])])]),s("h2",{attrs:{id:"_2-verify-signature-and-hash"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-verify-signature-and-hash"}},[e._v("#")]),e._v(" 2. Verify signature and hash")]),e._v(" "),s("p",[e._v("GnuPG is recommended, which can install by yum install gnupg or apt-get install gnupg.")]),e._v(" "),s("p",[e._v("Here we use Doris main code release as an example. Other releases are similar.")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("gpg --import KEYS\ngpg --verify apache-doris-a.b.c-incubating-src.tar.gz.asc apache-doris-a.b.c-incubating-src.tar.gz\nsha512sum --check apache-doris-a.b.c-incubating-src.tar.gz.sha512\n")])])]),s("h2",{attrs:{id:"_3-verify-license-header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-verify-license-header"}},[e._v("#")]),e._v(" 3. Verify license header")]),e._v(" "),s("p",[e._v("Here we use "),s("a",{attrs:{href:"https://github.com/apache/skywalking-eyes",target:"_blank",rel:"noopener noreferrer"}},[e._v("apache/skywalking-eyes"),s("OutboundLink")],1),e._v(" for source license header validation.")]),e._v(" "),s("p",[e._v("Go to the source directory and execute the following command (requires a Docker environment).")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker run -it --rm -v $(pwd):/github/workspace apache/skywalking-eyes header check\n")])])]),s("p",[e._v("The output is similar to the following:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("INFO GITHUB_TOKEN is not set, license-eye won't comment on the pull request\nINFO Loading configuration from file: .licenserc.yaml\nINFO Totally checked 5611 files, valid: 3926, invalid: 0, ignored: 1685, fixed: 0\n")])])]),s("p",[e._v("where an invalid of 0 means the check passed.")]),e._v(" "),s("blockquote",[s("p",[e._v("Some non-Apache License header files are documented in "),s("code",[e._v(".licenserc.yaml")]),e._v(".")])]),e._v(" "),s("h2",{attrs:{id:"_4-verify-building"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-verify-building"}},[e._v("#")]),e._v(" 4. Verify building")]),e._v(" "),s("ul",[s("li",[e._v("For Doris main code compilation, see "),s("RouterLink",{attrs:{to:"/installing/compilation.html"}},[e._v("compilation documentation")])],1),e._v(" "),s("li",[e._v("Flink Doris Connector compilation, see "),s("RouterLink",{attrs:{to:"/extending-doris/flink-doris-connector.html"}},[e._v("compilation documentation")])],1),e._v(" "),s("li",[e._v("Spark Doris Connector compilation, see "),s("RouterLink",{attrs:{to:"/extending-doris/spark-doris-connector.html"}},[e._v("compilation documentation")])],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);